<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="{{org_config.google_analytics}}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config',"{{org_config.google_analytics_code}}" );
  </script>
    <title>{{org_config.main_title}}</title>
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/noaa-fisheries-integrated-toolbox/FIT_graphics/main/FIT_logo/logo_pngs/FIT_favicon_2022_color.png">
   <link type="text/css" rel="stylesheet" href="./static/catalog_landing_page.css" />

</head>
<body>
    <main role="main" class="container">
        <div class="mywrap">
            <h1 class ="title"> {{org_config.general_title}}</h1>
            <address><a  class ="fit_link" href ='https://noaa-fisheries-integrated-toolbox.github.io'>NOAA Fisheries Integrated Toolbox</a> <button class = "icon_small"  id ="email" onclick='location.href= "mailto:fisheries.toolbox@noaa.gov;"' value="e-mail fisheries.toolbox@noaa.gov" alt="email: fisheries.toolbox@noaa.gov" title="email: fisheries.toolbox@noaa.gov "></button></address>
        </div>
        <div class = "divider"></div>
        <div class ="infoText">
          {{org_config.general_info_text}}
        </div>

        <div class="mywrap">
          <div class="mywrap">
            <nav class ="sidenav" role="navigation">
              <button class="menu-toggle" id=”menu-toggle” onclick="menuClick(this)"  aria-label=”toggle the menu” aria-expanded="false" aria-controls="menu"></button>
              <div class="menulabel">
                  <div class="bar1" aria-hidden=”true”></div>
                  <div class="bar2" aria-hidden=”true”></div>
                  <div class="bar3" aria-hidden=”true”></div>
              </div>

            <div id = "menu" tabindex="-1">

              <div class = "box2">
                <input class = "boxInput" type="text" id="myInput" onkeyup="simpleSearch()" placeholder="Search for tools" title="Type in a name">
              </div>
              <!-- See all models -->
              <div class="tab">
                <input type="button" value="See all tools" onclick="resetSearch()">
              </div>
              <!-- Filter by drawer -->
              <div class="tabs">
                <div class="tab">
                  <input type="checkbox" id="chck1">
                  <label class="tab-label" for="chck1">Toolbox Drawer</label>
                  <div class="tab-content">
                    <input type="button" value="Ecosystem" onclick="drawerSearch('ecosystem')">
                    <input type="button" value="Fish and Fisheries" onclick="drawerSearch('fisheries')">
                    <input type="button" value="Human Dimensions" onclick="drawerSearch('human_dimensions')">
                    <input type="button" value="Protected Resources" onclick="drawerSearch('protected_species')">
                    <input type="button" value="General Modeling Tools" onclick="drawerSearch('general')">
                  </div>
                </div>

                <!-- // Filter by keywords
                // To update this, run parsejson.R get_html_snippet()
                // And copy/paste over the output below div class= "tab-content" -->
                <div class="tabs">
                  <div class="tab">
                    <input type="checkbox" id="chck2">
                    <label class="tab-label" for="chck2">Keywords</label>
                    <div class="tab-content">
                      <input type="button" value="ADMB" onclick="simpleSearch(this.value)">
                      <input type="button" value="Age Structured Model" onclick="simpleSearch(this.value)">
                      <input type="button" value="Bayesian Modeling" onclick="simpleSearch(this.value)">
                      <input type="button" value="Bycatch" onclick="simpleSearch(this.value)">
                      <input type="button" value="C++" onclick="simpleSearch(this.value)">
                      <input type="button" value="Calculator" onclick="simpleSearch(this.value)">
                      <input type="button" value="Data Exploration" onclick="simpleSearch(this.value)">
                      <input type="button" value="Data Limited Method" onclick="simpleSearch(this.value)">
                      <input type="button" value="Data Visualization" onclick="simpleSearch(this.value)">
                      <input type="button" value="Decision Support Tool" onclick="simpleSearch(this.value)">
                      <input type="button" value="Developer Utilities" onclick="simpleSearch(this.value)">
                      <input type="button" value="Economics" onclick="simpleSearch(this.value)">
                      <input type="button" value="Ecosystem" onclick="simpleSearch(this.value)">
                      <input type="button" value="Ensemble Modeling" onclick="simpleSearch(this.value)">
                      <input type="button" value="Fish Biology" onclick="simpleSearch(this.value)">
                      <input type="button" value="Fisheries" onclick="simpleSearch(this.value)">
                      <input type="button" value="Gradient Solver" onclick="simpleSearch(this.value)">
                      <input type="button" value="Guided User Interface" onclick="simpleSearch(this.value)">
                      <input type="button" value="Individual Based Model" onclick="simpleSearch(this.value)">
                      <input type="button" value="Legacy Tool" onclick="simpleSearch(this.value)">
                      <input type="button" value="Length Structured Model" onclick="simpleSearch(this.value)">
                      <input type="button" value="Management Strategy Evaluation" onclick="simpleSearch(this.value)">
                      <input type="button" value="Marine Mammals" onclick="simpleSearch(this.value)">
                      <input type="button" value="Maximum Likelihood Estimation" onclick="simpleSearch(this.value)">
                      <input type="button" value="Model Builder" onclick="simpleSearch(this.value)">
                      <input type="button" value="Model Comparision" onclick="simpleSearch(this.value)">
                      <input type="button" value="Multispecies Model" onclick="simpleSearch(this.value)">
                      <input type="button" value="Natural Mortality Model" onclick="simpleSearch(this.value)">
                      <input type="button" value="NOAA Branding" onclick="simpleSearch(this.value)">
                      <input type="button" value="North Pacific" onclick="simpleSearch(this.value)">
                      <input type="button" value="Output Visualization" onclick="simpleSearch(this.value)">
                      <input type="button" value="Projection Modeling" onclick="simpleSearch(this.value)">
                      <input type="button" value="R Package" onclick="simpleSearch(this.value)">
                      <input type="button" value="Reference Points Model" onclick="simpleSearch(this.value)">
                      <input type="button" value="Risk Assessment Tool" onclick="simpleSearch(this.value)">
                      <input type="button" value="Salmon" onclick="simpleSearch(this.value)">
                      <input type="button" value="Sampling Decision Tool" onclick="simpleSearch(this.value)">
                      <input type="button" value="Shiny" onclick="simpleSearch(this.value)">
                      <input type="button" value="Simulation" onclick="simpleSearch(this.value)">
                      <input type="button" value="Size Spectra Model" onclick="simpleSearch(this.value)">
                      <input type="button" value="Size Structured Model" onclick="simpleSearch(this.value)">
                      <input type="button" value="Socioeconomics" onclick="simpleSearch(this.value)">
                      <input type="button" value="Spatial Model" onclick="simpleSearch(this.value)">
                      <input type="button" value="Species Distribution Model" onclick="simpleSearch(this.value)">
                      <input type="button" value="Standardized Reporting" onclick="simpleSearch(this.value)">
                      <input type="button" value="Stock Assessment Model" onclick="simpleSearch(this.value)">
                      <input type="button" value="Stock Assessment Projections" onclick="simpleSearch(this.value)">
                      <input type="button" value="Stock Assessment Tool" onclick="simpleSearch(this.value)">
                      <input type="button" value="Surplus Production Model" onclick="simpleSearch(this.value)">
                      <input type="button" value="Tag Data Model" onclick="simpleSearch(this.value)">
                      <input type="button" value="Teaching Tool" onclick="simpleSearch(this.value)">
                      <input type="button" value="Time Series" onclick="simpleSearch(this.value)">
                      <input type="button" value="TMB" onclick="simpleSearch(this.value)">
                      <input type="button" value="User Utilities" onclick="simpleSearch(this.value)">
                      <input type="button" value="Virtual Population Analysis" onclick="simpleSearch(this.value)">
                      <input type="button" value="Visualization" onclick="simpleSearch(this.value)">
                      <input type="button" value="Web App" onclick="simpleSearch(this.value)">
                    </div>
                  </div>

                <!-- <div class="tab">
                <input type="button" value="Advanced estimation engine" onclick="simpleSearch(this.value)">
              </div> -->
                <!-- <div class="tab">
                <input type="button" value="Data simulator" onclick="simpleSearch(this.value)">
              </div> -->
                <!-- <div class="tab">
                <input type="button" value="Input Processor" onclick="simpleSearch(this.value)">
              </div> -->
  
              </div>

              <div class = "box2">
                  <div class ="row"><img class="icon_small online">
                    <input type="button" value="Web App" onclick="simpleSearch(this.value)">
                  </div>
                    Tool is available as a web-based application.
                </div>
                <div class = "box2">
                  <div class ="row"><img class="icon_small down" ><h2> Executable</h2></div>

                      Tool is packaged as an executable available for download.
                </div>
                <div class = "box2">
                  <div class ="row"><img class="icon_small github"><h2> Code Repository</h2></div>

                      Code repository associated with the tool is available for developers or users to access. Interested developers can make pull requests on the code base.
                </div>
                <!-- <div class = "box2">
                  <div class ="row"><img class="icon_small cert" > <h2>Validation</h2></div>
                      Tools and code go through a validation process and are assigned different levels of validation.

                </div> -->
                <div class = "box2">
                  <div class ="row"><img class="icon_small checkmarkN"> <h2>NOAA Support</h2></div>
                      Authored and currently maintained by NOAA staff.
                </div>
                <div class = "box2">
                  <div class ="row"><img class="icon_small checkmarkE"> <h2>External Tool</h2></div>
                      Authored by developers external to NOAA.
                </div>
                <div class = "box2">
                  <div class ="row"><img class="icon_small legacy"> 
                    <input type="button" value="Legacy Tool" onclick="simpleSearch(this.value)">
                  </div>
                      A tool that is no longer maintained. It is recommended to update to a replacement tool.
                </div>
                </div>
          </nav>



        <div class ="boxcontainer">

          {% for key, value in configs.items() %}
          <div class = "box">
              {% set my_string = value['model_abbrev']  %}
              <a class = "shortTitle" href= {{my_string}} target= "_blank"> {{value['model_abbrev']}} </a>
              <div class = "longTitle">{{value['tool_name']}}</div>
              <div class = "toolbox_drawer">
                Toolbox drawer(s):&nbsp;
                {% for kwd in value['toolbox_drawer']%}
                  {{kwd}}&nbsp;
                {% endfor %}
              </div>
              <div class = "keywords">
                <p>
                  Keywords:<br>
                  {% if value['keywords'] is defined and value['keywords']|length %}
                    {% for kwd in value['keywords']%}
                      {{kwd}}<br>
                    {% endfor %}
                  {% endif %}
                </p>     
              </div>
              <!-- <div class = "modelType">{{value['tool_type']}}</div>
              <div class = "modelType">{{value['model_type']}}</div> -->
              {% if value['release_badge'] is defined and value['release_badge'] %}
              {% set release = "https://img.shields.io/github/v/release/"   ~ value['release_badge']  ~ "?color=%230093D0&include_prereleases" %}
              <div class = "release"><img alt="GitHub release (latest by date)" src= "{{release}}"></div>
              {% endif %}

              <div class = "language"></div>
              <!-- web app button -->
              <div class = "iconrow">
                {% if value['online_app_link'] is defined and value['online_app_link']|length %}
                 <button class = "icon_small online" onclick="location.href= '{{value.online_app_link}}';" value="Go to online app" ></button>
                {% else %}
                 <button class = "icon_small online" disabled></button>
                {% endif %}
                <!-- executable button -->
                {% if value['download_app_link'] is defined and value['download_app_link']|length %}
                 <button class = "icon_small down" onclick="location.href='{{value.download_app_link}}';" value="download app" ></button>
                {% else %}
                  <button class = "icon_small down" disabled></button>
                {% endif %}
                <!-- code repository button -->
                {% if value['code_repository_link'] is defined and value['code_repository_link']|length %}
                 <button class = "icon_small github" onclick="location.href='{{value.code_repository_link}}';" value="Go to online app" ></button>
                {% else %}
                  <button class = "icon_small github" disabled></button>
                {% endif %}

               <!--  {% if value['online_app_link']|length %}
                 <button class = "icon_small"  id ="" onclick="location.href=""{{value['online_app_link']}};" value="Go to online app" ></button>
                 -->
                  <!-- {% else %} -->
                  <!-- {% if badge_level %}
                <button class = "icon_small {{badge_level}}"></button> -->
                <!-- {% else %}
                <button class = "icon_small cert" disabled></button> -->
                <!-- {% endif %} -->

                  <!-- <button class = "icon_small cert" disabled></button> -->
                <!-- {% endif %} -->
                <!-- NOAA support button -->
                {% if value['NOAA_internal'] is defined and value['active_development'] is defined and value['NOAA_internal'] == true and value['active_development'] == true%}
                  <button class = "icon_small internal_active" ></button>
                {% else %}
                  <button class = "icon_small internal_active" disabled></button>
                {% endif %}
                <!-- External Tool Icon -->
                {% if value['NOAA_internal'] is defined and value['active_development'] is defined and value['NOAA_internal'] == false and value['active_development'] == true%}
                  <button class = "icon_small external_active" ></button>
                {% else %}
                  <button class = "icon_small external_active" disabled></button>
                {% endif %}
                <!-- Legacy Tool Icon -->
                <!-- May want to use NOAA_internal and active_development in the future to determine if this button should be added -->
                {% if value['keywords'] is defined and 'Legacy Tool' in value['keywords'] %}
                  <button class = "icon_small legacy" ></button>
                {% else %}
                  <button class = "icon_small legacy" disabled></button>
                {% endif %}

              </div>


          </div>
          {% endfor %}
        </div>


        </div>
      </div>





       <div class = "divider"></div>

        <footer >
             <img src="https://raw.githubusercontent.com/noaa-fisheries-integrated-toolbox/FIT_graphics/main/FIT_logo/logo_pngs/FIT_logo_2022_color.png" alt="NOAA Fisheries Integrated Toolbox Logo" height="75">
             <img src="./static/noaa-fisheries-rgb-2line-horizontal-small.png" alt="NOAA Fisheries Logo" height="75" >
         <div class="mywrap_center">
          <a class ="mylink line" href="https://www.commerce.gov/">U.S. Department of Commerce</a>
          <a class ="mylink line" href="https://www.noaa.gov">National Oceanographic and Atmospheric Administration</a>
          <a class ="mylink" href="https://www.fisheries.noaa.gov/">NOAA Fisheries</a>
         </div>

        </footer>
        <div class ="attribution">Icons by icons8 https://icons8.com/</div>
      </main>
      <script>
        var sidenav = document.getElementsByClassName("sidenav");
        var menu = document.getElementById("menu");
        var menulabel = document.getElementsByClassName("menulabel");


            // sidenav[0].style.display="none";

        function simpleSearch(val) {
            var input, filter, ul, box, box_each, box_each_abbrev, box_each_keywords, box_each_drawer, i, txtValue;
            if(val === undefined){
              input = document.getElementById("myInput");
              filter = input.value.toUpperCase();
            }
            else {
              filter = val.toUpperCase();
            }
            box = document.getElementsByClassName("box");
            for (i = 0; i < box.length; i++) {
                box_each = box[i].getElementsByClassName("longTitle")[0];
                box_each_abbrev = box[i].getElementsByClassName("shortTitle")[0];
                box_each_keywords = box[i].getElementsByClassName("keywords")[0];
                box_each_drawer = box[i].getElementsByClassName("toolbox_drawer")[0];
                //console.log(box_each_keywords); // For Debugging 
                txtValue = box_each.textContent + " " + box_each_abbrev.innerText + " " + box_each_keywords.innerText + " " + box_each_drawer.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    box[i].style.display = "";
                } else {
                    box[i].style.display = "none";
                }
            }
        }

        function drawerSearch(val) {
            var input, filter, ul, box, box_each, i, txtValue;
            if(val === undefined){
              input = document.getElementById("myInput");
              filter = input.value.toUpperCase();
            }
            else {
              filter = val.toUpperCase();
            }
            box = document.getElementsByClassName("box");
            for (i = 0; i < box.length; i++) {
                box_each = box[i].getElementsByClassName("toolbox_drawer")[0];
                txtValue = box_each.textContent;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    box[i].style.display = "";
                } else {
                    box[i].style.display = "none";
                }
            }
        }

        function resetSearch() {
            var box, i;
            box = document.getElementsByClassName("box");
            for (i = 0; i < box.length; i++) {
              box[i].style.display = "";
            }
        }

        function menuClick(x) {
          // x.classList.toggle("change");
          menulabel[0].classList.toggle("change");
          sidenav[0].classList.toggle("open");
          menu.classList.toggle("is_active");
          let y =x.getAttribute("aria-expanded");
          let t;
          if (y == "true"){
            y = "false"
            t="-1";
          }
          else {
            y = "true";
            t="0";
          }
          x.setAttribute("aria-expanded", x);

           }
          // boxcontainer






      </script>
   </body>
</html>